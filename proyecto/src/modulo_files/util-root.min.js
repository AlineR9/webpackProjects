function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,t,a){return t&&_defineProperties(e.prototype,t),a&&_defineProperties(e,a),e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var MAX_ALUMNOS=3,noChat=0;function chkGrupo(e,a){$("input[id^="+e+"]").each(function(e,t){t.checked=null!=a&&a})}function muestraMsgMain2(e,t){1==e&&(resul="success",resul_t=trans("Correcto")),0!=e&&"error"!=e||(resul="danger",resul_t="Error"),2==e&&(resul="info",resul_t=trans("Información")),alertJS('<br/><span style="padding: 6px 24px;" class="alert alert-'+resul+'">'+resul_t+'</span><br/><br/><br/><b style="font-size: 14px;">'+t+"</b>",function(){return!1})}function muestraMsgMain(e,t,a,n){var o="",r="",i=!1,s=""!==n?n:"0";switch(e){case"ok":case"success":case 1:case!0:r=rutajs_base+"web/images/icon_new/awesome/alert-ok.svg",o="gritter-success",empty(t)&&(t=trans("Operación realizada correctamente")),empty(a)?a=trans("Correcto"):s="2000";break;case"ko":case"error":case 0:case!1:r=rutajs_base+"web/images/icon_new/awesome/alert-caution.svg",o="gritter-error",empty(t)&&(t=trans("Se ha producido un error")),empty(a)&&(a=trans("Error")+"!"),s="0",i=!0;break;case"alerta":r=rutajs_base+"web/images/icon_new/awesome/alert-caution.svg",o="gritter-warning",empty(a)&&(a=trans("Atención")+"!"),s="3000";break;case"info":case 2:r=rutajs_base+"web/images/icon_new/awesome/alert-question.svg",o="gritter-info",empty(a)&&(a=trans("Información")),s="3000";break;default:return}$.gritter.add({title:a,text:t,image:r,sticky:i,before_open:function(){if(3<=$(".gritter-item-wrapper").length)return!1},time:s,class_name:o+" gritter-center gritter-light"})}function intval(e,t){var a=_typeof(e);return"boolean"===a?+e:"string"===a?(t=parseInt(e,t||10),isNaN(t)||!isFinite(t)?0:t):"number"===a&&isFinite(e)?0|e:0}function goTo(e){"undefined"==typeof alturaCabecera&&(alturaCabecera=0),void 0!==e&&$("html, body").animate({scrollTop:$("#"+e).offset().top-(alturaCabecera+40)},"slow")}function goToSelector(e){"undefined"==typeof alturaCabecera&&(alturaCabecera=0),$("html, body").animate({scrollTop:$(e).offset().top-(alturaCabecera+40)},"slow")}function validaCampo(e){if($("#"+e).length)return""==$("#"+e).val().trim()?($("#"+e).addClass("errorform"),!1):($("#"+e).removeClass("errorform"),$("#"+e).addClass("successform"),!0)}function validarEmail(e){return expr=/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/,!!expr.test(e)}function validaSeguridadUsuario(){return""==$.trim($("#clave").val())?(NLD(),alertJS(trans("la clave no puede estar vacía",null,null,null,"ucfirst")),!1):"admin"==$.trim($("#clave").val())?(NLD(),alertJS(trans("la clave no es válida, es la clave por defecto y no esta permitida",null,null,null,"ucfirst")),!1):$("#clave").val()!=$("#rclave").val()?(NLD(),alertJS(trans("las claves no coinciden")),!1):validarEmail($("#email").val())?void 0:(NLD(),alertJS(trans("El email no es válido")),!1)}function _pagina(e,t){$("#"+e+" input[name=_pag], #"+e+" input[name=_pagina] ").val(t),$("#"+e).submit()}function _orden(e,t){$("#"+e+" input[name=_orden]").val(t),$("#"+e).submit()}"file:"===window.location.protocol&&(window.location="/acceso"),jQuery.fn.center=function(){return this.css("position","absolute"),this.css("top",Math.max(0,($(window).height()-$(this).outerHeight())/2+$(window).scrollTop())+"px"),this.css("left",Math.max(0,($(window).width()-$(this).outerWidth())/2+$(window).scrollLeft())+"px"),this};var eventOutSideNavbar=function e(t){var a=t.target.getAttributeNS("http://www.w3.org/1999/xlink","href");document.querySelector(".container-sidenav").contains(t.target)||"#i-trash"==a||(document.removeEventListener("click",e),cerrarSidenavCampus())};function sidenavCampus(){var e=document.querySelector(".sidenav-campus");e.style.display="grid",setTimeout(function(){e.classList.add("open"),document.body.style.overflow="hidden"},100)}function cerrarSidenavCampus(){document.removeEventListener("click",eventOutSideNavbar);var e=document.querySelector(".sidenav-campus");e.classList.remove("open"),document.body.style.overflowY="auto",setTimeout(function(){e.style.display="none"},500)}function fileUpload(){$(".myupd_sintransformar:not(input[id$='-0'])").ace_file_input({no_file:trans("Elija el archivo a cargar")+" ...",btn_choose:trans("Elija"),btn_change:trans("Cambie"),droppable:!1,onchange:null,thumbnail:!1}).removeClass("myupd_sintransformar")}function addFile(e,t){var a=$("#"+e+" div.myfupd").length+1,n=(n=$("#"+t+" input[type=file]").attr("id").split("-"))[0];$("#"+e).append($("#"+t).clone().removeClass("invisible").css("display","").attr("id","_idtemporal_")),$("#_idtemporal_ input[id^="+n+"]").attr("id",n+"-"+a),fileUpload(),""==$("#_idtemporal_").attr("style")&&$("#_idtemporal_").removeAttr("style"),$("#_idtemporal_").removeAttr("id")}function lanzaURL(e,t){0<t?setInterval(function(){window.location.href=e},parseInt(t)):window.location.href=e}function wpop(e,t,a,n,o,r,i){var s;null==t&&(t=""),t=encodeURI(t),null==r&&(r=""),null==n||""==n||0==n.length?n="800":"FULL"==n.toString().toUpperCase()&&(n=screen.width),null==a||""==a||0==a.length?a="600":"FULL"==a.toString().toUpperCase()&&(a=screen.height),r+=",width="+n+",height="+a+",scrollbars="+o,r+=",left="+(("Microsoft Internet Explorer"==navigator.appName?(s=window.screenTop,window.screenLeft):(s=window.screenY,window.screenX))+($(window).width()-n)/2)+",top="+(s+($(window).height()-a)/2);window.open(e,t,r)}function esMovil(){var e={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};return e.any()}function mobileCheck(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,t=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))?!0:t}function confirmJS(e,t,a,n){void 0!==n?bootbox.confirm({message:e,buttons:{confirm:{label:n[0],className:n[2]||"btn-success"},cancel:{label:n[1],className:n[3]||"btn-default"}},callback:function(e){e?$.isFunction(t)&&t():$.isFunction(a)&&a()}}):(bootbox.confirm(e,function(e){e?$.isFunction(t)&&t():$.isFunction(a)&&a()}),setTimeout(function(){document.querySelector(".bootbox .btn-default").focus()},500))}function promptJS(t,a,n,o,r,i){bootbox.prompt({title:t,callback:function(e){null==e?$.isFunction(o)&&o():e.toLowerCase()===a.toLowerCase()&&""!=a?$.isFunction(n)&&n():null==e?$.isFunction(o)&&o():""!=r&&"undefined"!==r?($("#"+r).val(e),$.isFunction(n)&&n()):(o(),promptJS(t,a,n,o,r,i))}})}function alertJS(e,t){bootbox.alert(e,function(){$.isFunction(t)&&t()})}function usarKeyses(e,t){null==t&&(t="#keyses");var a=$(e).find("input[name=keyses]");0<a.length?a.val($(t).val()):$("<input>").attr({type:"hidden",name:"keyses",value:$(t).val()}).appendTo(e)}function number_format(e,t,a,n){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var o,r,i,s=isFinite(+e)?+e:0,e=isFinite(+t)?Math.abs(t):0,t=void 0===n?",":n,n=void 0===a?".":a,a="";return 3<(a=(e?(o=s,r=e,i=Math.pow(10,r),""+(Math.round(o*i)/i).toFixed(r)):""+Math.round(s)).split("."))[0].length&&(a[0]=a[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,t)),(a[1]||"").length<e&&(a[1]=a[1]||"",a[1]+=new Array(e-a[1].length+1).join("0")),a.join(n)}function getGrupoLateralNew(e){jQuery.ajax({type:"POST",dataType:"json",url:rutajs+"lib/ajax.php",data:"fn=getGrupoLateralNew",success:function(e){e&&$.each(e,function(e,t){$("#MM"+e).append(t)})}})}function getGrupoHeaderLat(t){jQuery.ajax({type:"POST",url:rutajs+"lib/ajax.php",data:"fn=getGrupoHeader"+t,success:function(e){$("#li-header-"+t)&&""!=e&&($("#li-header-"+t).html(e),$("#li-header-"+t+" > a span").length&&parseInt($("#li-header-"+t+" > a span").text()))}})}function getGrupoHeaderNov(){jQuery.ajax({type:"POST",url:rutajs+"lib/ajax.php",data:"fn=ultimasNovedadesDb",success:function(e){if(""!=e&&(datos=JSON.parse(e),0<parseInt(datos.total)))for(0<datos.ctNuevos&&$("#li-header-avisos").append('<span class="badge badge-campus badge-danger badge-mensajeria-novedades-gestion">'+datos.ctNuevos+"</span>"),i=0;i<datos.aAvisos.length;i++)$("#list-novedades").append('<div class="card-novedad"><div class="crd-nov-fecha">'+datos.aAvisos[i].fecha+" "+(datos.aAvisos[i].new?"- <i>reciente</i>":"")+'</div><a href="#" data-beacon-article="'+datos.aAvisos[i].id+'" class="crd-nov-titulo">'+datos.aAvisos[i].nombre+"</a></div>")}})}function marcarFechaNovVistas(){jQuery.ajax({type:"POST",url:rutajs+"lib/ajax.php",data:"fn=marcarFechaNovVistas",success:function(e){$("#li-header-avisos .badge").remove()}})}function getGrupoHeader(t){$("#li-header-"+t).hasClass("open")||($("#li-header-"+t+" > a span").length&&parseInt($("#li-header-"+t+" > a span").text()),jQuery.ajax({type:"POST",url:rutajs+"lib/ajax.php",data:"fn=getGrupoHeader"+t,success:function(e){$("#li-header-"+t)&&($("#li-header-"+t).html(e),$("#li-header-"+t+" > a span").length&&parseInt($("#li-header-"+t+" > a span").text()))}}))}function solonumeros(e,t){t?$(e).on("keydown",e,function(e){-1!==$.inArray(e.keyCode,[46,8,9,27,13])||/65|67|86|88/.test(e.keyCode)&&(!0===e.ctrlKey||!0===e.metaKey)||35<=e.keyCode&&e.keyCode<=40||(e.shiftKey||e.keyCode<48||57<e.keyCode)&&(e.keyCode<96||105<e.keyCode)&&e.preventDefault()}):$(e).on("keydown",e,function(e){-1!==$.inArray(e.keyCode,[46,8,9,27,13,188,110])||/65|67|86|88/.test(e.keyCode)&&(!0===e.ctrlKey||!0===e.metaKey)||35<=e.keyCode&&e.keyCode<=40||(e.shiftKey||e.keyCode<48||57<e.keyCode)&&(e.keyCode<96||105<e.keyCode)&&e.preventDefault()})}function empty(e){for(var t,a=[void 0,null,!1,0,"","0"],n=0,o=a.length;n<o;n++)if(e===a[n])return!0;if("object"!==_typeof(e))return!1;for(t in e)return!1;return!0}function isNumberKey(e,t){e=e.which||event.keyCode;return!(31<e&&(e<48||57<e))}function cargaAsignaturasGR(e,t,a,n){""!=n&&void 0!==n||(n=0);var o=$("#"+a+"ese").val();jQuery.ajax({type:"POST",url:rutajs+"lib/ajax.php",data:"fn=cargaAsignaturasGR&enc_grupo="+e+"&tipo="+a+"&notodas="+n+"&esestudio="+o,success:function(e){"ko"==e?($("#cajaAsignaturas"+t).html(""),$("#cajaAsignaturas"+t).hide()):-1==e.indexOf("solouno")?($("#cajaAsignaturas"+t).html(e),$("#cajaAsignaturas"+t).show(),$("#cajaAsignaturas"+t+" select").selectpicker()):($("#cajaAsignaturas"+t).html(e),$("#cajaAsignaturas"+t).hide())}})}function fechaMayorqueFecha(e,t){var a=e.split("/");e=new Date(a[2],a[1]-1,a[0]);a=t.split("/");return t=new Date(a[2],a[1]-1,a[0]),e.getTime()>t.getTime()}var timeLD=!0;function LD(){timeLD=!0,setTimeout(function(){timeLD&&$(".overlay").show()},500)}function NLD(){$(".overlay").hide(),timeLD=!1}function trans(i,e,t,a,n,o){if("undefined"!=(a=null==a?evolLang:a)[i]&&null!=a[i]&&0<(""+a[i]).length&&(i=a[i]),void 0!==o&&!o||(i=i.replace(/'/g,"comillaquequeremosreemplazar").replace(/"/g,"comilladoblequequeremosreemplazar")),void 0!==e&&"object"==_typeof(e)&&$.each(e,function(e,t){i=i.replace(e,t)}),void 0!==o&&!o||(i=i.replace(/'/g,"comillaquequeremosreemplazar").replace(/"/g,"comilladoblequequeremosreemplazar")),void 0!==t&&"object"==_typeof(t)&&$.each(t,function(e,t){for(var a=e.length,n=i.indexOf(e);0<=n;){var o,r=i.indexOf(e,n+1);n=0<=r?(o=i.substr(n+a,r-n-a),r=t[0]+o+t[1],(i=i.replace(e+o+e,r)).indexOf(e)):-1}}),"string"==typeof n){if(void 0!==a._opciones&&void 0!==a._opciones.estiloInmutable&&a._opciones.estiloInmutable)switch(n){case"ucwords":case"ucfirst":case"lower":n=null}switch(n){case"ucfirst":i=ucfirst(i);break;case"ucfirstOnlyFirst":i=ucfirstOnlyFirst(i);break;case"ucwords":i=ucwords(i);break;case"upper":i=i.toUpperCase();break;case"lower":i=i.toLowerCase()}}return i=void 0===o||o?i.replace(/comillaquequeremosreemplazar/gi,"&apos;").replace(/comilladoblequequeremosreemplazar/gi,"&quot;"):i}function getRutaCKEditor(){return rutajs_base+"lib_base/ckeditorlib/"}function ucfirst(e){return(e+="").toLowerCase().charAt(0).toUpperCase()+e.substr(1)}function ucfirstOnlyFirst(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)}function ucwords(e){return(e+"").replace(/^(.)|\s+(.)/g,function(e){return e.toUpperCase()})}function cambiaIdioma(e){LD(),jQuery.ajax({type:"POST",url:rutajs+"lib/ajax.php",data:"fn=cambiaIdioma&idIdioma="+e,success:function(e){$(location).attr("href",$(location).attr("href"))}})}function detectIE(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(0<t)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(0<e.indexOf("Trident/")){var a=e.indexOf("rv:");return parseInt(e.substring(a+3,e.indexOf(".",a)),10)}a=e.indexOf("Edge/");return 0<a&&parseInt(e.substring(a+5,e.indexOf(".",a)),10)}function abrirAyuda(e,t){anchura=100,1e3<$(window).width()&&(anchura=60),$("#contenidoay").load(e,function(){var e={content:$("#contenidoay").html(),title:t,width:anchura+"%"};$.fancybox(e)})}function noPrint(){var e=$("#viewer").contents(),t=e.find("#printContainer");$(t).attr("id","printContainerX");t=e.find("#print");$(t).hide();t=e.find("#download");$(t).hide();t=e.find("#secondaryToolbarToggle");$(t).hide()}function noPrintPresAbout(e){e=$(e).contents().find("#toolbarRight");$(e).hide()}function noCopyPres(e){var t=$(e).contents(),e=t.find("#toolbarRight");$(e).hide(),t.find("body").bind("cut copy p contextmenu",function(e){e.preventDefault()}),t.find("body").append("<style>@media print {body {display:none !important;}}</style>"),$(document).on("keydown",function(e){!e.ctrlKey||"p"!=e.key&&16!=e.charCode&&112!=e.charCode&&80!=e.keyCode||(e.cancelBubble=!0,e.preventDefault(),e.stopImmediatePropagation())})}function noPrintPres(e){var t=$(e).contents(),e=t.find("#toolbarRight");$(e).hide();e=t.find("#download");$(e).hide(),t.find("body").bind("cut copy p contextmenu",function(e){e.preventDefault()}),t.find("body").append("<style>@media print {body {display:none !important;}}</style>"),$(document).on("keydown",function(e){!e.ctrlKey||"p"!=e.key&&16!=e.charCode&&112!=e.charCode&&80!=e.keyCode||(e.cancelBubble=!0,e.preventDefault(),e.stopImmediatePropagation())})}function noDownPres(e){e=$(e).contents().find("#download");$(e).hide()}function diaSemana(e,t,a){return["domingo","lunes","martes","miercoles","jueves","viernes","sabado"][new Date(t+" "+e+", "+a+" 12:00:00").getUTCDay()]}function svgVector(e){void 0===e?e="":e+=" ",jQuery(e+".svg").each(function(){var t=jQuery(this),a=t.attr("class"),e=t.attr("src");void 0!==e&&jQuery.get(e,function(e){e=jQuery(e).find("svg");!(e=(e=void 0!==a?(e=e.attr("class",a+" replaced-svg")).removeClass("svg"):e).removeAttr("xmlns:a")).attr("viewBox")&&e.attr("height")&&e.attr("width")&&e.attr("viewBox","0 0 "+e.attr("height")+" "+e.attr("width")),t.replaceWith(e)},"xml")})}function loginCampus(){var e=$("#a-login-perdida"),t=$("#a-login-volver"),a=$("#card-login-perdida"),n=$("#card-login-in");e.click(function(){n.addClass("login-oculto"),setTimeout(function(){n.hide()},500),setTimeout(function(){a.css("display","flex")},600),setTimeout(function(){a.removeClass("login-oculto")},700)}),t.click(function(){a.addClass("login-oculto"),setTimeout(function(){a.hide()},500),setTimeout(function(){n.css("display","flex")},600),setTimeout(function(){n.removeClass("login-oculto")},700)})}function evolAddEventListener(e,t,a){e.addEventListener(t,function(e){e.preventDefault(),e.stopImmediatePropagation(),a(e)})}function enlaceAnchor(){var e=$(".enlace-anchor");$("html, body").animate({scrollTop:$(e.attr("href")).offset().top},500)}function validarInputImagen(e){var t=document.getElementById(e),e=t.value;if(""==t.value)return!0;return!!/(.jpg|.jpeg|.png|.gif)$/i.exec(e)||(t.value="",!1)}function copyToClipboardAsync(e){return navigator&&navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e):Promise.reject("The Clipboard API is not available.")}function passwordValidator(e){var t="",a=/[A-Z]/.test(e),n=/[a-z]/.test(e),o=/[0-9]/.test(e),r=/\s/.test(e);return e.length<6&&(t+=trans("La clave debe tener mínimo %1 caracteres",{"%1":6})+"<br>"),a||n||(t+=trans("La clave debe tener al menos una letra")+"<br>"),!(e.length<8)||a&&n||(t+=trans("La clave debe tener al menos una mayúscula y una minúscula")+"<br>"),o||(t+=trans("La clave debe tener al menos un número")+"<br>"),r&&(t+=trans("La clave no puede tener espacios en blanco")),""!=t&&muestraMsgMain("info",t),t}function passwordViewer(e,t){tipo=document.getElementById(e),t=document.getElementById(t),"password"==tipo.type?(tipo.type="text",t.classList.remove("fa-eye-slash"),t.classList.add("fa-eye")):(tipo.type="password",t.classList.remove("fa-eye"),t.classList.add("fa-eye-slash"))}function isCapsLock(e){var t=!1;(e=e||window.event).which?t=e.which:e.keyCode&&(t=e.keyCode);var a=!1;return e.shiftKey?a=e.shiftKey:e.modifiers&&(a=!!(4&e.modifiers)),!!(97<=t&&t<=122&&a)||65<=t&&t<=90&&!a}var letrasNifPorIndice=["T","R","W","A","G","M","Y","F","P","D","X","B","N","J","Z","S","Q","V","H","L","C","K","E"],Dni=function(){"use strict";function t(e){_classCallCheck(this,t),this.documento=e.toUpperCase()}return _createClass(t,[{key:"esValido",value:function(){return!!/[0-9][0-9][0-9][0-9][0-9][0-9][0-9][0-9][a-z]/i.test(this.documento)&&!!this.tieneLetraNifValida()}},{key:"tieneLetraNifValida",value:function(){var e=parseInt(this.documento.slice(0,-1));return letrasNifPorIndice[e%23]==this.documento.slice(-1)}}]),t}(),Nie=function(){"use strict";function t(e){_classCallCheck(this,t),this.documento=e.toUpperCase()}return _createClass(t,[{key:"esValido",value:function(){return!!/[a-z][0-9][0-9][0-9][0-9][0-9][0-9][0-9][a-z]/i.test(this.documento)&&!!this.tieneLetraNifValida()}},{key:"tieneLetraNifValida",value:function(){var e={X:"0",Y:"1",Z:"2"}[this.documento.slice(0,1)]+this.documento.slice(1,-1);return letrasNifPorIndice[e%23]==this.documento.slice(-1)}}]),t}();function validateDocumentoIdentidad(e){var t=new Dni(e);return!!t.esValido()||(!!(t=new Nie(e)).esValido()||(muestraMsgMain("info",trans("el documento de identidad no es valido")),!1))}function handleStickyHeader(t){function a(e){e?t.forEach(function(e,t){e.style.transform="translateY(calc(-100% - ".concat(r[t],"px ))")}):t.forEach(function(e){e.style.transform="translateY(0)"})}function n(){return window.pageYOffset||document.documentElement.scrollTop}function e(){return t[t.length-1].getBoundingClientRect().bottom+window.pageYOffset}var o=0,r=[],i=0;window.requestAnimationFrame(function(){window.requestAnimationFrame(function(){r=t.map(function(e){return e.getBoundingClientRect().top+window.pageYOffset}),i=e(),n()>e()&&a(!0),window.requestAnimationFrame(function(){t.forEach(function(e,t){t=t,(e=e).style.position="sticky",e.style.top=r[t]+"px",e.style.transition="transform 0.25s ease-in"})})})}),document.addEventListener("scroll",function(){var e=n();e<=i?a(!1):Math.abs(e-o)<0||(a(o<e),o=e)},{passive:!0,capture:!1})}function handleStickyHeaderAula(){handleStickyHeader([document.getElementById("navbarcampus"),window.innerWidth<=992?document.getElementById("navbaraula-movil"):document.getElementById("content-header")])}function handleStickyHeaderContenido(){handleStickyHeader([document.getElementById("content-header")])}function ownKeys(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(a),!0).forEach(function(e){_defineProperty(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function messageOptionsFactory(e,t,a,n){return{value:e,defaultReplaces:t||{},defaultStyle:a||null,defaultQuoteEnt:n||null}}function messageByCode(e){return messageCodes[e]||null}function messageTrans(e,t,a){return trans(e.value,t,e.defaultReplaces,a||null,e.defaultStyle,e.defaultQuoteEnt)}var errorApiMessageCodes={access_denied_http_exception:messageOptionsFactory("acceso denegado",null,"ucfirst"),storage_file_upload_fail:messageOptionsFactory("error al subir los ficheros"),asignatura_not_exist:messageOptionsFactory("La asignatura no existe"),asignatura_nombre_is_empty:messageOptionsFactory("debe definir el nombre de la asignatura",null,"ucfirst"),asignatura_nombre_length_exceeded:messageOptionsFactory("el nombre de la asignatura no puede tener mas de %1 caracteres",null,"ucfirst"),asignaturas_not_exist:messageOptionsFactory("No hay asignaturas para este curso"),asignaturas_ponderacion_is_not_100:messageOptionsFactory("La suma de las asignaturas debe ser de 100%"),grupo_seguimiento_comunicacion_without_seguimientos:messageOptionsFactory("Debes seleccionar un aviso de seguimientos para poder seleccionar avisos de comunicación"),comunicado_not_exist:messageOptionsFactory("El comunicado no existe"),comunicado_has_no_grupos:messageOptionsFactory("debe seleccionar al menos un grupo",null,"ucfirst"),comunicado_send_email_error:messageOptionsFactory("Error al enviar el email de aviso"),comunicado_asunto_length_exceeded:messageOptionsFactory("el asunto no puede tener mas de %1 caracteres",null,"ucfirst"),comunicado_asunto_empty:messageOptionsFactory("debe definir el asunto",null,"ucfirst"),empresa_not_exist:messageOptionsFactory("la empresa no existe",null,"ucfirst"),empresa_has_alumnos:messageOptionsFactory("Hay alumnos asociados a la empresa, no puede eliminarse."),empresa_nombre_empty:messageOptionsFactory("debe definir el nombre de la empresa",null,"ucfirst"),empresa_nombre_length_exceeded:messageOptionsFactory("el nombre no puede tener mas de %1 caracteres",null,"ucfirst"),empresa_nombre_duplicated:messageOptionsFactory("El nombre de empresa ya esta en uso"),empresa_cif_length_exceeded:messageOptionsFactory("el CIF no puede tener mas de %1 caracteres",null,"ucfirst"),empresa_ruta_logo_length_exceeded:messageOptionsFactory("se ha producido un error al subir el fichero",null,"ucfirst"),encuesta_title_length_exceeded:messageOptionsFactory("El título de la encuesta no puede tener mas de %1 caracteres."),encuesta_title_empty:messageOptionsFactory("debe definir el título de la encuesta",null,"ucfirst"),encuesta_pregunta_title_length_exceeded:messageOptionsFactory("La pregunta no puede tener mas de %1 caracteres."),encuesta_pregunta_title_empty:messageOptionsFactory("debe definir el texto de la pregunta",null,"ucfirst"),encuesta_pregunta_not_exist:messageOptionsFactory("La pregunta de la encuesta no existe"),encuesta_not_exist:messageOptionsFactory("La encuesta no existe"),mensaje_not_exist:messageOptionsFactory("el mensaje no existe",null,"ucfirst"),mensaje_destinatarios_not_exist:messageOptionsFactory("No se puede enviar un mensaje sin destinatarios"),usuario_not_exist:messageOptionsFactory("El usuario no existe"),usuario_id_already_setted:messageOptionsFactory("Ya existe el id del usuario"),usuario_apellidos_length_exceeded:messageOptionsFactory("los apellidos no pueden tener mas de %1 caracteres",null,"ucfirst"),usuario_clave_is_empty:messageOptionsFactory("debe rellenar la clave",null,"ucfirst"),usuario_clave_length_exceeded:messageOptionsFactory("la clave no puede tener mas de %1 caracteres",null,"ucfirst"),usuario_clave_is_reserved_word_admin:messageOptionsFactory("la clave no puede ser admin al ser una palabra reservada",null,"ucfirst"),usuario_email_length_exceeded:messageOptionsFactory("el email no puede tener mas de %1 caracteres",null,"ucfirst"),usuario_login_is_empty:messageOptionsFactory("debe rellenar el usuario",null,"ucfirst"),usuario_login_duplicated:messageOptionsFactory("El usuario indicado ya esta en uso por otro usuario"),usuario_login_length_exceeded:messageOptionsFactory("el login no puede tener mas de %1 caracteres",null,"ucfirst"),usuario_nombre_length_exceeded:messageOptionsFactory("el nombre no puede tener mas de %1 caracteres",null,"ucfirst"),usuario_roles_ids_is_empty:messageOptionsFactory("No puede guardar un usuario sin asignarle al menos un rol"),usuario_rol_id_is_not_valid:messageOptionsFactory("id de rol no valido",null,"ucfirst"),usuario_email_or_login_is_empty:messageOptionsFactory("debe rellenar email o usuario",null,"ucfirst"),usuario_email_login_or_clave_is_empty:messageOptionsFactory("Error al crear el usuario debe rellenar email, login y clave como mínimo"),usuario_telefono_length_exceeded:messageOptionsFactory("el teléfono no puede tener mas de %1 caracteres",null,"ucfirst"),usuario_ruta_foto_length_exceeded:messageOptionsFactory("se ha producido un error al subir el fichero",null,"ucfirst"),usuario_ruta_cv_length_exceeded:messageOptionsFactory("se ha producido un error al subir el fichero",null,"ucfirst"),usuario_ruta_cv_extension_is_not_allowed:messageOptionsFactory("el fichero de la reseña profesional debe de ser PDF",null,"ucfirst"),usuario_gestion_exist:messageOptionsFactory("el usuario ya existe, elija otro",null,"ucfirst"),usuario_exist_with_email_or_usuario:messageOptionsFactory("existe mas de un usuario que coincide con email y usuario",null,"ucfirst"),usuario_merge_cuentas_exception:messageOptionsFactory("problema al modificar el usuario, pongase en contacto con los administradores de EvolCampus",null,"ucfirst"),configuracion_personalizacion_plataforma_logo_titulo_length_exceeded:messageOptionsFactory("el titulo de la plataforma no puede tener mas de %1 caracteres",null,"ucfirst"),configuracion_personalizacion_plataforma_logo_timezone_wrong:messageOptionsFactory("El timezone %1 no es correcto",null,"ucfirst"),configuracion_personalizacion_plataforma_color_texto_length_exceeded:messageOptionsFactory("el texto no puede tener mas de %1 caracteres",null,"ucfirst"),configuracion_email_cuenta_envio_pruebas:messageOptionsFactory("email pruebas",null,"ucfirst"),email_cuenta_not_exist:messageOptionsFactory("el email no existe",null,"ucfirst"),entidad_certificadora_nombre_is_empty:messageOptionsFactory("debe rellenar el nombre de la organización",null,"ucfirst"),entidad_certificadora_nombre_length_exceeded:messageOptionsFactory("la organización no puede tener mas de %1 caracteres",null,"ucfirst"),entidad_certificadora_id_organization_linkedin_length_exceeded:messageOptionsFactory("el ID de organización no puede tener mas de %1 caracteres",null,"ucfirst"),accion_formativa_duplicated:messageOptionsFactory("La acción formativa ya existe"),accion_formativa_not_exist:messageOptionsFactory("La acción formativa no existe"),accion_formativa_codigo_length_exceeded:messageOptionsFactory("el código de la acción formativa no puede tener mas de %1 caracteres",null,"ucfirst"),accion_formativa_contacto_length_exceeded:messageOptionsFactory("el contacto de la acción formativa no puede tener mas de %1 caracteres",null,"ucfirst"),accion_formativa_denominacion_length_exceeded:messageOptionsFactory("la denominación de la acción formativa no puede tener mas de %1 caracteres",null,"ucfirst"),accion_formativa_horarios_length_exceeded:messageOptionsFactory("los horarios de la acción formativa no puede tener mas de %1 caracteres",null,"ucfirst"),accion_formativa_informacion_general_length_exceeded:messageOptionsFactory("la información general de la acción formativa no puede tener mas de %1 caracteres",null,"ucfirst"),accion_formativa_requisitos_length_exceeded:messageOptionsFactory("los requisitos de la acción formativa no puede tener mas de %1 caracteres",null,"ucfirst"),centro_has_not_acciones_formativas:messageOptionsFactory("El centro no tiene acciones formativas"),centro_not_exist:messageOptionsFactory("El centro no existe"),centro_not_exist_for_any_user:messageOptionsFactory("No existe el centro para ningún usuario"),centro_codigo_length_exceeded:messageOptionsFactory("el código del centro no puede tener mas de %1 caracteres",null,"ucfirst"),centro_email_length_exceeded:messageOptionsFactory("el email del centro no puede tener mas de %1 caracteres",null,"ucfirst"),centro_nombre_length_exceeded:messageOptionsFactory("el nombre del centro no puede tener mas de %1 caracteres",null,"ucfirst"),centro_telefono_length_exceeded:messageOptionsFactory("el teléfono del centro no puede tener mas de %1 caracteres",null,"ucfirst"),centro_url_plataforma_length_exceeded:messageOptionsFactory("la url de la plataforma del centro no puede tener mas de %1 caracteres",null,"ucfirst"),centro_url_seguimiento_length_exceeded:messageOptionsFactory("la url de seguimiento del centro no puede tener mas de %1 caracteres",null,"ucfirst"),centro_presencial_codigo_length_exceeded:messageOptionsFactory("el código del centro presencial no puede tener mas de %1 caracteres",null,"ucfirst"),centro_presencial_origen_length_exceeded:messageOptionsFactory("el origen del centro presencial no puede tener mas de %1 caracteres",null,"ucfirst"),curso_has_grupos:messageOptionsFactory("El curso no debe tener grupos (actualmente tiene %1 grupos)",null,"ucfirst"),documento_numero_length_exceeded:messageOptionsFactory("el número del documento no puede tener mas de %1 caracteres",null,"ucfirst"),especialidad_area_profesional_length_exceeded:messageOptionsFactory("el área profesional de la especialidad no puede tener mas de %1 caracteres",null,"ucfirst"),especialidad_codigo_length_exceeded:messageOptionsFactory("el código de la especialidad no puede tener mas de %1 caracteres",null,"ucfirst"),participante_cif_empresa_length_exceeded:messageOptionsFactory("el cif de empresa del participante no puede tener mas de %1 caracteres",null,"ucfirst"),participante_id_contrato_cfa_length_exceeded:messageOptionsFactory("el id del contrato del cfa del participante no puede tener mas de %1 caracteres",null,"ucfirst"),tutor_formador_acreditacion_tutor_length_exceeded:messageOptionsFactory("la acreditación del tutor formador no puede tener mas de %1 caracteres",null,"ucfirst"),usuario_invalid_pass_length_exceeded:messageOptionsFactory("la clave inválida del usuario no puede tener mas de %1 caracteres",null,"ucfirst"),usuario_pass_length_exceeded:messageOptionsFactory("la clave del usuario no puede tener mas de %1 caracteres",null,"ucfirst"),usuario_user_length_exceeded:messageOptionsFactory("el nombre del usuario no puede tener mas de %1 caracteres",null,"ucfirst"),positive_int_min_value_not_exceeded:messageOptionsFactory("el valor como mínimo debe de ser %1",null,"ucfirst"),positive_int_without_zero_min_value_not_exceeded:messageOptionsFactory("el valor como mínimo debe de ser %1",null,"ucfirst"),grupo_formativo_has_matriculas:messageOptionsFactory("Hay %1 alumnos asociados al grupo formativo, debe quitarlos de la acción formativa desde la ficha de cada alumno.",null),accion_formativa_horario_by_tipo_not_allowed:messageOptionsFactory("No está permitido ese horario para ese tipo de acción formativa",null,"ucfirst"),accion_formativa_horario_fin_lower_than_inicio_not_allowed:messageOptionsFactory("La hora de fin es menor que la hora de inicio",null,"ucfirst"),accion_formativa_horario_fin_not_null:messageOptionsFactory("La hora de fin no puede ser nula",null,"ucfirst"),accion_formativa_horario_inicio_not_null:messageOptionsFactory("La hora de inicio no puede ser nula",null,"ucfirst"),accion_formativa_usuario_exist:messageOptionsFactory("El usuario no existe",null,"ucfirst"),grupo_formativo_not_exist:messageOptionsFactory("El grupo formativo no existe",null,"ucfirst"),empresa_cif_invalid:messageOptionsFactory("El formato del cif es invalido",null,"ucfirst"),empresa_cif_start_with_invalid_letter:messageOptionsFactory("El cif empieza por una letra no valida",null,"ucfirst"),grupo_empresa_evaluacion_cif_length_exceeded:messageOptionsFactory("El CIF no puede tener mas de %1 caracteres",null,"ucfirst"),diploma_nombre_length_exceeded:messageOptionsFactory("el nombre del diploma no puede tener más de %1 carácteres",null,"ucfirst"),diploma_nombre_is_empty:messageOptionsFactory("el nombre del diploma no puede estar vacío",null,"ucfirst"),matricula_not_exist:messageOptionsFactory("matricula no existe ",null,"ucfirst")},appMessageCodes={comunicado_not_exist:messageOptionsFactory("El comunicado no existe")},messageCodes=_objectSpread(_objectSpread({},appMessageCodes),errorApiMessageCodes);function ownKeys(t,e){var a,n=Object.keys(t);return Object.getOwnPropertySymbols&&(a=Object.getOwnPropertySymbols(t),e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)),n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(a),!0).forEach(function(e){_defineProperty(t,e,a[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ownKeys(Object(a)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))})}return t}function _defineProperty(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function asyncGeneratorStep(e,t,a,n,o,r,i){try{var s=e[r](i),c=s.value}catch(e){return void a(e)}s.done?t(c):Promise.resolve(c).then(n,o)}function _asyncToGenerator(s){return function(){var e=this,i=arguments;return new Promise(function(t,a){var n=s.apply(e,i);function o(e){asyncGeneratorStep(n,t,a,o,r,"next",e)}function r(e){asyncGeneratorStep(n,t,a,o,r,"throw",e)}o(void 0)})}}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var evolRequestDefaultOnError=function(e,t){var a=e.code||"";"domain_error"!=a?null!=(a=messageByCode(a))?muestraMsgMain(!1,messageTrans(a,e.additionalData,null)):muestraMsgMain(!1):muestraMsgMain((e="object"===_typeof(e.message)?e.message:JSON.parse(e.message)).result,e.message)};function evolFormRequest(e,t){return _evolFormRequest.apply(this,arguments)}function _evolFormRequest(){return(_evolFormRequest=_asyncToGenerator(regeneratorRuntime.mark(function e(t,a){var n,o,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t&&"tagName"in t&&"form"===t.tagName.toLowerCase()){e.next=2;break}return e.abrupt("return");case 2:if(n={event:null,url:t.action||null,method:t.method,responseType:"json",onRequest:function(){LD(),usarKeyses(t)},onFinish:function(){NLD()}},(a=_objectSpread(_objectSpread({},n),a)).event instanceof Event&&(a.event.preventDefault(),void 0!==(r=t.querySelector("#_pagina"))&&(r.value=1)),"function"==typeof a.onRequest&&a.onRequest(),"undefined"!=typeof CKEDITOR)for(o in CKEDITOR.instances)CKEDITOR.instances[o].updateElement();return r=new FormData(t),r=_objectSpread(_objectSpread({},a),{},{method:a.method,body:r}),e.next=11,evolRequest(a.url,r);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}var _evolRequesting=[];function evolRequest(e,t){return _evolRequest.apply(this,arguments)}function _evolRequest(){return(_evolRequest=_asyncToGenerator(regeneratorRuntime.mark(function e(t,a){var n,o,r,i,s,c,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=_objectSpread(_objectSpread({},n={body:null,headers:{},method:"GET",responseType:"json",onRequest:function(){},onSuccess:function(e,t){},onError:evolRequestDefaultOnError,onFinish:function(){},preventDuplicityRequest:!0,uniqueIdRequest:t}),a)).preventDuplicityRequest){e.next=9;break}if(_evolRequesting.includes(a.uniqueIdRequest))return e.abrupt("return");e.next=9;break;case 9:if(_evolRequesting.push(a.uniqueIdRequest),"object"===_typeof(a.body)&&("get"==a.method.toLowerCase()&&(o=new URLSearchParams(a.body),t+="?"!==t.slice(-1)?"?":"&",t+=o.toString(),a.body=null),!(null==a.body||a.body instanceof FormData||a.body instanceof URLSearchParams))){for(i in r=new FormData,a.body)r.append(i,a.body[i]);a.body=r}return"get"==a.method.toLowerCase()&&delete a.body,e.next=14,fetch(t,{method:a.method,body:a.body||null,headers:a.headers});case 14:if(s=e.sent,c=n.responseType,0==s.ok)return e.next=19,s.json();e.next=23;break;case 19:l=e.sent,a.onError(l,s),e.next=28;break;case 23:return a.responseType.includes("text","json","arrayBuffer","formData")&&(c=a.responseType),e.next=26,s[c]();case 26:l=e.sent,"function"==typeof a.onSuccess&&a.onSuccess(l,s);case 28:"function"==typeof a.onFinish&&a.onFinish(),a.preventDuplicityRequest&&(_evolRequesting=_evolRequesting.filter(function(e){return e!=a.uniqueIdRequest}));case 30:case"end":return e.stop()}},e)}))).apply(this,arguments)}